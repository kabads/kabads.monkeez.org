<<<<<<< HEAD
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.36" />



<link rel="canonical" href="https://kabads.monkeez.org/2015/12/05/encrypt-a-partition/">


    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <title>Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings</title>
    
<meta name="description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem).">

<meta property="og:title" content="Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings">
<meta property="og:type" content="article">
<meta property="og:url" content="https://kabads.monkeez.org/2015/12/05/encrypt-a-partition/">
<meta property="og:image" content="https://kabads.monkeez.org/images/default.png">
<meta property="og:site_name" content="Kabads - musings, mutterings and murmerings">
<meta property="og:description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem).">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="Kabads - musings, mutterings and murmerings">
<meta name="twitter:url" content="https://kabads.monkeez.org/2015/12/05/encrypt-a-partition/">
<meta name="twitter:title" content="Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings">
<meta name="twitter:description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem).">
<meta name="twitter:image" content="https://kabads.monkeez.org/images/default.png">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https://kabads.monkeez.org/"
    },
    "headline": "Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings",
    "image": {
      "@type": "ImageObject",
      "url": "https://kabads.monkeez.org/images/default.png",
      "height": 800,
      "width": 800
    },
    "datePublished": "2015-12-05T00:00:00JST",
    "dateModified": "2015-12-05T00:00:00JST",
    "author": {
      "@type": "Person",
      "name": "Kabads - musings, mutterings and murmerings"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Kabads - musings, mutterings and murmerings",
      "logo": {
        "@type": "ImageObject",
        "url": "https://kabads.monkeez.org/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.
Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.
Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem)."
  }
</script>


    <link href="https://kabads.monkeez.org/css/styles.css" rel="stylesheet">
    

  </head>

  <body>
    
    
    

    <header class="l-header">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://kabads.monkeez.org/">Kabads - musings, mutterings and murmerings</a>
          </div>

          

        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        
<div class="row">
  <div class="col-md-8">

    <nav class="p-crumb">
      <ol class="breadcrumb">
        <li><a href="https://kabads.monkeez.org/"><i class="fa fa-home" aria-hidden="true"></i></a></li>
        
        <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://kabads.monkeez.org/post/" itemprop="url"><span itemprop="title">post</span></a></li>
        
        <li class="active">Encrypt a partition on Linux</li>
      </ol>
    </nav>

    <article class="single">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-12-05T00:00:00JST">Dec 5, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kabads.monkeez.org/post/">post</a></li>
      
    </ul>

    <h1 class="title">Encrypt a partition on Linux</h1>
  </header>

  

  <div class="article-body">
=======
<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <title>Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings</title>
  <meta property="og:title" content="Encrypt a partition on Linux - Kabads - musings, mutterings and murmerings" />
  <meta name="twitter:title" content="Encrypt a partition on Linux - Kabads - musings, mutterings and …" />
  <meta name="description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.
Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.
Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem).">
  <meta property="og:description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.
Most systems use the Linux Unified Key Setup (LUKS for short) format for encryption and this can be a standard install for most distribution.
Steps for setting up LUKS Setting up the drive Firstly you should have a partition drive that is unmounted and unformatted (no filesystem).">
  <meta name="twitter:description" content="Introduction An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the …">
  <meta name="author" content=""/>
  <meta property="og:site_name" content="Kabads - musings, mutterings and murmerings" />
  <meta property="og:url" content="/2015/12/05/encrypt-a-partition/" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.36" />
  <link rel="stylesheet" href="/css/style.css" media="all" />
  <link rel="stylesheet" href="/css/syntax.css" media="all" />
  <link rel="stylesheet" href="/css/custom.css" media="all" />
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
</head>
<body>

<header class="site-header">
  <nav class="site-navi">
    <h1 class="site-title"><a href="/">Kabads - musings, mutterings and murmerings</a></h1>
    <ul class="site-navi-items">
      <li class="site-navi-item-categories"><a href="/categories/" title="Categories">Categories</a></li>
      <li class="site-navi-item-about"><a href="/about/" title="About">About</a></li>
    </ul>
  </nav>
</header>
<hr class="site-header-bottom">

  <div class="main" role="main">
    <article class="article">
      
      
      <h1 class="article-title">Encrypt a partition on Linux</h1>
      
      <hr class="article-title-bottom">
      <ul class="article-meta">
        <li class="article-meta-date"><time>December 5, 2015</time></li>
        <li class="article-meta-categories">
          <a href="/categories/sysadmin/">
            <svg class="icon"><use xlink:href="/images/fa-solid.svg#folder"></use></svg>
            sysadmin
          </a>&nbsp;
        </li>
      </ul>
      
      
>>>>>>> b16940f998a8a6ccef3e3c31b8d5ce8b6bc92f8f

<h3 id="introduction">Introduction</h3>

<p>An encrypted partition can add a layer of security to your system. When initialized, it will ask for the passphrase which, if unavailable, will not allow proper mounting. This renders the information on the drive as unreadable.</p>

<p>Most systems use the <a href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup">Linux Unified Key Setup</a> (LUKS for short) format for encryption and this can be a standard install for most distribution.</p>

<h2 id="steps-for-setting-up-luks">Steps for setting up LUKS</h2>

<h3 id="setting-up-the-drive">Setting up the drive</h3>

<p>Firstly you should have a partition drive that is unmounted and unformatted (no filesystem). The filesystem will be added once encryption has been setup.</p>

<p>You must also have the <strong>cryptsetup</strong> tool install. On Ubuntu, this is achieved with:</p>

<pre><code>$ sudo aptitude install cryptsetup
</code></pre>

<p><strong>sudo</strong> must be used for all of these commands.</p>

<p>To set up the drive for LUKS, enter this command:</p>

<pre><code>$ sudo cryptsetup luksFormat /dev/drive
</code></pre>

<p>This drive can be a <a href="/sysadmin/2015/08/21/how-to-set-up-lvm-linux.html">Logical Volume Management drive</a>, or some other disk.</p>

<p>After this, you will need to enter &ldquo;YES&rdquo; (without quotes) to confirm that you want to encrypt the drive. Note that the response is all uppercase.</p>

<p>Then you will need to enter a passphrase which will be used to encrypt the drive.</p>

<p>You will need to open the drive with:</p>

<pre><code>$ cryptsetup --verbose luksOpen /dev/drive/ SECRET_NAME
</code></pre>

<p>Replace SECRET_NAME with a name of your choice - this will be referred to later.</p>

<p>Formatting the drive is done as usual</p>

<pre><code>$ sudo mkfs.ext4 /dev/mapper/SECRET_NAME
</code></pre>

<h3 id="opening-the-drive">Opening the drive</h3>

<p>Mounting the drive for use:</p>

<pre><code>$ sudo mount /dev/mapper/SECRET_NAME /mnt/encrypted_disk
</code></pre>

<h3 id="closing-the-drive-once-finished">Closing the drive once finished</h3>

<p>You must <strong>luksClose</strong> the drive once you have finished writing to it.</p>

<pre><code>$ sudo umount /mnt/encrypted_disk

$ sudo cryptsetup luksClose /dev/mapper/SECRET_NAME
</code></pre>

<p>This will write out all data and finish with it. To reuse you must start again at the step above with <strong>luksOpen</strong> command.</p>

<h3 id="conclusion">Conclusion</h3>

<p>This will encrypt and mount a drive on your machine which will stay safe if you don&rsquo;t reveal the passphrase to anyone. You can auotmount this at boot, and either be prompted for the passphrase, or have the passphrase stored in a file. However, automatically decrypting and mounting on boot will be a waste of time, as anyone who has access to that machine will already have bypassed the encryption stage.</p>
<<<<<<< HEAD
</div>

  <footer class="article-footer">
    
    
    
    <section class="bordered">
      <header>
        <div class="panel-title">CATEGORIES</div>
      </header>
      <div>
        <ul class="p-terms">
          
          <li><a href="https://kabads.monkeez.org/categories/sysadmin/">sysadmin</a></li>
          
        </ul>
      </div>
    </section>
    
    
    
    
  </footer>

</article>


    
  </div>

  <div class="col-md-4">
    
<aside class="l-sidebar">

  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">LATESTS</div>
    </div>
    <div class="list-group">
      
      <a href="https://kabads.monkeez.org/post/2018-02-11-cycle-jaunt-around-bath/" class="list-group-item">2018 02 11 Cycle Jaunt Around Bath</a>
      
      <a href="https://kabads.monkeez.org/2017/10/03/aws-how-to-automatically-launch-apache-with-your-site-content/" class="list-group-item">How to create an instance that pulls your website content automatically</a>
      
      <a href="https://kabads.monkeez.org/2017/09/20/how-to-create-a-vpc/" class="list-group-item">AWS - How to Create A VPC</a>
      
      <a href="https://kabads.monkeez.org/2017/09/20/aws-how-to-serve-traffic-from-load-balancer/" class="list-group-item">AWS - How to Serve Traffic from a Load Balancer</a>
      
      <a href="https://kabads.monkeez.org/2017/07/02/swindon-to-goring-walk/" class="list-group-item">TADS walk Swindon to Goring</a>
      
      <a href="https://kabads.monkeez.org/2017/06/10/how-to-install-lineageos-wileyfox-swift/" class="list-group-item">How to install LineageOS on Wileyfox Swift</a>
      
      <a href="https://kabads.monkeez.org/2017/05/06/a-cartoon-about-file-permissions/" class="list-group-item">A Cartoon About File Permissions</a>
      
      <a href="https://kabads.monkeez.org/2017/01/29/setting-up-lets-encrypt-with-certauto/" class="list-group-item">Setting up SSL Certificates with Lets Encrypt and certbot</a>
      
      <a href="https://kabads.monkeez.org/2016/12/10/running-ec2-instance/" class="list-group-item">Running EC2 Instance</a>
      
      <a href="https://kabads.monkeez.org/2016/11/20/finding-large-files-in-a-directory/" class="list-group-item">Finding large files in a directory</a>
      
    </div>
  </section>

  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">CATEGORY</div>
    </div>
    <div class="list-group">
      
      <a href="https://kabads.monkeez.org/categories/sysadmin" class="list-group-item">sysadmin</a>
      
      <a href="https://kabads.monkeez.org/categories/cycling" class="list-group-item">cycling</a>
      
      <a href="https://kabads.monkeez.org/categories/education" class="list-group-item">education</a>
      
      <a href="https://kabads.monkeez.org/categories/exercise" class="list-group-item">exercise</a>
      
      <a href="https://kabads.monkeez.org/categories/leisure" class="list-group-item">leisure</a>
      
      <a href="https://kabads.monkeez.org/categories/reading" class="list-group-item">reading</a>
      
      <a href="https://kabads.monkeez.org/categories/tech" class="list-group-item">tech</a>
      
    </div>
  </section>
  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">TAG</div>
    </div>
    <div class="list-group">
      
      <a href="https://kabads.monkeez.org/tags/ict" class="list-group-item">ict</a>
      
    </div>
  </section>
  

</aside>


=======

    </article>

    
<ul class="article-share">
  <li>
    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </li>
  <li>
    <div class="fb-share-button" data-href="https://kabads.monkeez.org/2015/12/05/encrypt-a-partition/" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.10";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
  </li>
  <li>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <g:plus action="share"></g:plus>
  </li>
  <li>
    <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="en" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
  </li>
  <li>
    <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
    <script>!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
  </li>
</ul>

    <ul class="pager article-pager">
      <li class="pager-newer">
          <a href="/2015/12/22/how-to-enable-disk-quotas-linux/" data-toggle="tooltip" data-placement="top" title="How to enable disk quotas for users">&lt; Newer</a>
      </li>
      <li class="pager-older">
        <a href="/2015/10/31/how-and-why-2-factor-authentication/" data-toggle="tooltip" data-placement="top" title="How and why you should be using 2 factor authentication">Older &gt;</a>
      </li>
    </ul>
  </div>


<div class="site-footer">
  <div class="copyright"></div>
  <ul class="site-footer-items">
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a>
>>>>>>> b16940f998a8a6ccef3e3c31b8d5ce8b6bc92f8f
  </div>
</div>
<script src="/js/script.js"></script>
<script src="/js/custom.js"></script>

<<<<<<< HEAD
      </div>
    </main>

    <footer class="l-footer">
      <div class="container">
        <p><span class="h-logo">&copy; Kabads - musings, mutterings and murmerings</span></p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p><a href="https://github.com/dim0627/hugo_theme_beg">Beg</a> designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

=======

</body>
</html>
>>>>>>> b16940f998a8a6ccef3e3c31b8d5ce8b6bc92f8f
