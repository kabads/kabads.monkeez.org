<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>yum</title>
<!-- 2015-06-15 Mon 20:02 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">yum</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Yum</a>
<ul>
<li><a href="#sec-1-1">1.1. Objectives</a></li>
<li><a href="#sec-1-2">1.2. Package installers</a></li>
<li><a href="#sec-1-3">1.3. What is yum?</a></li>
<li><a href="#sec-1-4">1.4. Configuring yum to use repositories</a></li>
<li><a href="#sec-1-5">1.5. Repostory files</a></li>
<li><a href="#sec-1-6">1.6. Queries</a></li>
<li><a href="#sec-1-7">1.7. Verifying Packages</a></li>
<li><a href="#sec-1-8">1.8. Installing/Removing/Upgrading Packages</a></li>
<li><a href="#sec-1-9">1.9. Additional Commands</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Yum</h2>
<div class="outline-text-2" id="text-1">
<p>
The yum program provides a higher level of intelligent services for using the underlying rpm program. It can automatically resolve dependencies when installing, updating and removing packages. It accesses external software repositories, synchronizing with them and retrieving and installing software as needed. 
</p>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Objectives</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Discuss package installers and their characteristics
</li>
<li>Explain what yum is
</li>
<li>Configure yum to use repositories
</li>
<li>Discuss the queries yum can be used for
</li>
<li>Verify, install, remove and upgrading packages using yum.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Package installers</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The lower level package utilities such as rpm and dpkg deal with the details of installing specific software pacakge files and managing already installed software. 
The higher level package management systems (such as yum, apt and zypper) work with databases of available software and incorporate the tools needed to find, install, update and uninstall software in a highly intelligent fashion. 
They: 
</p>
<ul class="org-ul">
<li>Can use both local and remote repositories as a source to install and update binary as well as source software packges.
</li>
<li>Are used to automate the install, upgrade and removal of software packages.
</li>
<li>Resolve dependencies automatically.
</li>
<li>Save time because there is no need to either download packages manually or search out dependency information separately. 
</li>
</ul>
<p>
The software repositories are provided by distributions and other independent software providers. The package installers maintain databases of available software derived from catalogs kept by the repositories. Unlike the low-level package tools, they have the ability to find and install dependencies automatically, a critical feature. 
In this section we will talk about yum; we will get to zypper and apt next. 
</p>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> What is yum?</h3>
<div class="outline-text-3" id="text-1-3">
<p>
yum provides a front end to rpm. Its primary task is to fetch packages from multiple remote repositories and resolve dependencies among packages. It is used by the majority (but not all) distributions that use rpm, including RHEL, CentOS, Scientific Linux and Fedora. 
yum caches information and databases to speed up performance. To remove some or all cached information one can run the command:
$ yum clean [packages | metadata | expire-cache | rpmdb | plugins | all ] 
yum has a number of modular extensions (plugins) and companion programs that can be found under /usr/bin/yum* and /usr/sbin/yum*. 
We will concentrate on the command line use of yum and not consider the graphical interfaces distributions provide. 
</p>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Configuring yum to use repositories</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Repository configuration files are kept in <i>etc/yum.repos.d</i> and have a .repo extension. For example, on one RHEL 6 system: 
$ ls -l /etc/yum.repos.d 
&#x2026;
Note that on RHEL 6 there is no redhat.repo file but there is on RHEL 7. 
RHEL 6 abd earlier versions handled the distribution-supplied repos in a somewhat different manner, although RHEL clones like CentOS used conventional repos for the main distribution packages.
</p>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Repostory files</h3>
<div class="outline-text-3" id="text-1-5">
<p>
A very simple repo file might look like: 
[repo-name]
name=Description of the repository
baseurl=<a href="http://somesystem.com/path/to/repo">http://somesystem.com/path/to/repo</a>
enabled=1
gpgcheck=1
More complicated examples can be found in /etc/yum.repos.d and it would be a good idea to examine them.
One can toggle use of a particular repo on or off by changing the value of the enabled to 0 or 1, or using the &#x2013;disablerepo=somerepo and &#x2013;enablerepo=somerepo options when using yum. One can (but should not) also turn off integrity checking with the gpgcheck variable.
</p>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Queries</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Like rpm, yum can be used for queries such as searches; however it can search not just what is present on the local system, it can also inquire about remote repositories. Some examples: 
</p>
<ul class="org-ul">
<li>Search for packages with keywork in name: $ sudo yum search keyword - $ sudo yum search "\*keyword\*". These two commands give somewhat different information. The first one tells more about the package while the second makes it clearer what is installed and what else is available. 
</li>
<li>Display information about a package: $ sudo yum info package - information includes size, version, what repository it came from, a source URL, and a longer description. Wildcards can be given as in yum info "libc*" for this and most yum commands. Note that the package need not be installed, unlike queries made with rpm -q.
</li>
<li>List all packages, or just those installed, available, or updates that have not yet been installed. $ sudo yum list [ installed | updates | available ]
</li>
<li>Show information about package groups installed or available, etc: $ sudo yum grouplist [group1] [group2] $ sudo yum groupinfo group1 [group2]
</li>
<li>Show packages that contain a certain file name: $ sudo yum provides as in $ sudo yum provides "/logrotate.conf" 
</li>
</ul>
<p>
Note the need to use at least one / in the filename, which can be confusing. 
</p>
</div>
</div>
<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Verifying Packages</h3>
<div class="outline-text-3" id="text-1-7">
<p>
Package verfication requires installation of the <b>yum-plugin-verify</b> package so you might have to do: 
$ sudo yum install yum-plugin-verify
Note this is a <b>yum plugin</b>, not an executable. There are many other plugins available for yum which extend the possible set of commands and arguments it can take. 
</p>
<ul class="org-ul">
<li>To verify a package giving the most information: $ sudo yum verify [package]
</li>
<li>To mimic rpm -V exactly: $ sudo yum verify-rpm [package]
</li>
<li>To list all differences including configuration files: $ sudo yum verify-all [package]
</li>
</ul>
<p>
Without arguments the above commands will verify all packages installed on the system. 
By default the verification commands ignore configuration files which may change through normal and safe usage. There are some other options: see man yum-verify. 
</p>
</div>
</div>
<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Installing/Removing/Upgrading Packages</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Here are some examples of commonly performed operations:
</p>
<ul class="org-ul">
<li>Install one ore more packages from repositories, resolving and installing any necessary dependencies: $ sudo yum install package1 [package2]
</li>
<li>Install from a local rpm: $ sudo yum localinstall package-file which is not quite the same as $ rpm -i package-file because it will attempt to resolve dependencies by accessing remote repositories.
</li>
<li>Install a specific software group from a repository, resolving and installing any necessary dependencies for each package in the group: $ sudo yum groupinstall group-name or $ sudo yum install @group-name
</li>
<li>Remove pacakges from the system: $ sudo yum remove package1 [package2]. One must be careful with package removal, as yum will not only remove requested packages, but all packages that depend on them! This may not be what you want, so never run yum remove with the -y option, which assumes automatic confirmation of removal.
</li>
<li>Update a package from a repository: $ sudo yum update [package]. If no package name is given, all packages are updated. 
</li>
</ul>
<p>
During installation (or update), if a package has a configuration file which is updated, it will rename the old configuration file with a .rpmsave extension. If the old configuration file will still work with the new software, it will name the new configuration file with a .rpmnew extension. You can search for these file name extensions (almost always in <i>etc</i> subdirectory tree) to see if you need to do any reconciliation, by doing: 
$ sudo find /etc -name "<b>.rpm</b>" 
This is the same behaviour the more naked underlying rpm utility exhibits, but we mention it here for reference. 
</p>
</div>
</div>
<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9"><span class="section-number-3">1.9</span> Additional Commands</h3>
<div class="outline-text-3" id="text-1-9">
<p>
There is no shortage of additional capabilities for yum, according to what plugins are installed. You can list them all with: 
$ sudo yum list "yum-plugin*"
In particular: 
</p>
<ul class="org-ul">
<li>Show a list of enabled repositories: $ sudo yum repolist
</li>
<li>Initiate an interactive shell in which to run multiple yum commands: $ sudo yum shell [text-file]. If a text file is give, yum will read and execute commands from that file instead of from the terminal.
</li>
<li>Download packages but do not install them, just store them under the /var/cache/yum directory, or another directory you can specify: $ sudo yum install &#x2013;downloadonly package. For this to work you have to install the yum-plugin-downloadonly package. You can also then do: $ sudo yumdownloader package which will download the latest version of package into the current working directory. Optionally one can calculate and download any dependencies as well.
</li>
<li>View the history of yum commands, and with the correct options, even undo or redo previous commands: $ sudo yum history. 
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2015-06-15 Mon 20:02</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
